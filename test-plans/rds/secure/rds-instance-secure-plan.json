{
  "format_version": "1.2",
  "terraform_version": "1.5.7",
  "resource_changes": [
    {
      "address": "aws_db_instance.this",
      "mode": "managed",
      "type": "aws_db_instance",
      "name": "this",
      "provider_name": "aws",
      "change": {
        "actions": ["create"],
        "after": {
          "identifier": "secure-rds-instance",
          "engine": "postgres",
          "engine_version": "15.4",
          "instance_class": "db.t3.micro",
          "allocated_storage": 20,
          "storage_type": "gp2",
          "storage_encrypted": true,
          "kms_key_id": "arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012",
          "backup_retention_period": 7,
          "backup_window": "03:00-04:00",
          "maintenance_window": "sun:04:00-sun:05:00",
          "deletion_protection": true,
          "skip_final_snapshot": false,
          "final_snapshot_identifier": "secure-rds-final-snapshot",
          "auto_minor_version_upgrade": true,
          "performance_insights_enabled": true,
          "performance_insights_retention_period": 7,
          "monitoring_interval": 60,
          "monitoring_role_arn": "arn:aws:iam::123456789012:role/rds-monitoring-role",
          "db_subnet_group_name": "secure-db-subnet-group",
          "vpc_security_group_ids": ["sg-12345678"],
          "manage_master_user_password": true,
          "master_username": "postgres",
          "parameter_group_name": "default.postgres15",
          "tags": {
            "Name": "secure-rds-instance",
            "Purpose": "secure-database"
          }
        }
      }
    },
    {
      "address": "aws_db_subnet_group.this",
      "mode": "managed",
      "type": "aws_db_subnet_group",
      "name": "this",
      "provider_name": "aws",
      "change": {
        "actions": ["create"],
        "after": {
          "name": "secure-db-subnet-group",
          "subnet_ids": ["subnet-12345678", "subnet-87654321"],
          "tags": {
            "Name": "secure-db-subnet-group"
          }
        }
      }
    },
    {
      "address": "aws_security_group.this",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "this",
      "provider_name": "aws",
      "change": {
        "actions": ["create"],
        "after": {
          "name": "secure-rds-sg",
          "description": "Security group for secure RDS instance",
          "vpc_id": "vpc-12345678",
          "ingress": [
            {
              "from_port": 5432,
              "to_port": 5432,
              "protocol": "tcp",
              "cidr_blocks": ["10.0.0.0/8"],
              "description": "PostgreSQL access from VPC"
            }
          ],
          "egress": [
            {
              "from_port": 0,
              "to_port": 0,
              "protocol": "-1",
              "cidr_blocks": ["0.0.0.0/0"],
              "description": "All outbound traffic"
            }
          ],
          "tags": {
            "Name": "secure-rds-sg"
          }
        }
      }
    }
  ]
}
