{
  "format_version": "1.0",
  "terraform_version": "1.6.0",
  "planned_values": {
    "root_module": {
      "resources": [
        {
          "address": "aws_eks_cluster.secure",
          "mode": "managed",
          "type": "aws_eks_cluster",
          "name": "secure",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "name": "secure-eks-cluster",
            "version": "1.28",
            "role_arn": "arn:aws:iam::123456789012:role/secure-eks-cluster-role",
            "vpc_config": [
              {
                "subnet_ids": [
                  "subnet-12345678",
                  "subnet-87654321"
                ],
                "endpoint_private_access": true,
                "endpoint_public_access": false,
                "public_access_cidrs": [],
                "security_group_ids": [
                  "sg-12345678"
                ]
              }
            ],
            "encryption_config": [
              {
                "provider": [
                  {
                    "key_arn": "arn:aws:kms:us-west-2:123456789012:key/12345678-1234-1234-1234-123456789012"
                  }
                ],
                "resources": [
                  "secrets"
                ]
              }
            ],
            "enabled_cluster_log_types": [
              "api",
              "audit",
              "authenticator",
              "controllerManager",
              "scheduler"
            ],
            "tags": {
              "Environment": "production",
              "Project": "secure-kubernetes"
            }
          }
        },
        {
          "address": "aws_eks_node_group.main",
          "mode": "managed",
          "type": "aws_eks_node_group",
          "name": "main",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "cluster_name": "secure-eks-cluster",
            "node_group_name": "main",
            "node_role_arn": "arn:aws:iam::123456789012:role/secure-eks-cluster-nodes-role",
            "subnet_ids": [
              "subnet-12345678",
              "subnet-87654321"
            ],
            "instance_types": [
              "t3.medium"
            ],
            "capacity_type": "ON_DEMAND",
            "scaling_config": [
              {
                "desired_size": 3,
                "max_size": 10,
                "min_size": 2
              }
            ],
            "update_config": [
              {
                "max_unavailable_percentage": 25
              }
            ],
            "tags": {
              "Environment": "production",
              "Project": "secure-kubernetes"
            }
          }
        },
        {
          "address": "aws_kms_key.cluster",
          "mode": "managed",
          "type": "aws_kms_key",
          "name": "cluster",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "description": "EKS cluster encryption key for secure-eks-cluster",
            "deletion_window_in_days": 7,
            "enable_key_rotation": true,
            "tags": {
              "Name": "secure-eks-cluster-encryption-key"
            }
          }
        },
        {
          "address": "aws_cloudwatch_log_group.cluster",
          "mode": "managed",
          "type": "aws_cloudwatch_log_group",
          "name": "cluster",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "name": "/aws/eks/secure-eks-cluster/cluster",
            "retention_in_days": 30,
            "kms_key_id": "arn:aws:kms:us-west-2:123456789012:key/12345678-1234-1234-1234-123456789012",
            "tags": {
              "Name": "secure-eks-cluster-cluster-logs"
            }
          }
        },
        {
          "address": "aws_security_group.cluster",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "cluster",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "name_prefix": "secure-eks-cluster-cluster-",
            "vpc_id": "vpc-12345678",
            "description": "Security group for EKS cluster control plane",
            "egress": [
              {
                "from_port": 0,
                "to_port": 0,
                "protocol": "-1",
                "cidr_blocks": [
                  "0.0.0.0/0"
                ]
              }
            ],
            "tags": {
              "Name": "secure-eks-cluster-cluster-sg"
            }
          }
        }
      ]
    }
  },
  "resource_changes": [
    {
      "address": "aws_eks_cluster.secure",
      "mode": "managed",
      "type": "aws_eks_cluster",
      "name": "secure",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "name": "secure-eks-cluster",
          "version": "1.28",
          "role_arn": "arn:aws:iam::123456789012:role/secure-eks-cluster-role",
          "vpc_config": [
            {
              "subnet_ids": [
                "subnet-12345678",
                "subnet-87654321"
              ],
              "endpoint_private_access": true,
              "endpoint_public_access": false,
              "public_access_cidrs": [],
              "security_group_ids": [
                "sg-12345678"
              ]
            }
          ],
          "encryption_config": [
            {
              "provider": [
                {
                  "key_arn": "arn:aws:kms:us-west-2:123456789012:key/12345678-1234-1234-1234-123456789012"
                }
              ],
              "resources": [
                "secrets"
              ]
            }
          ],
          "enabled_cluster_log_types": [
            "api",
            "audit",
            "authenticator",
            "controllerManager",
            "scheduler"
          ],
          "tags": {
            "Environment": "production",
            "Project": "secure-kubernetes"
          }
        },
        "after_unknown": {}
      }
    },
    {
      "address": "aws_eks_node_group.main",
      "mode": "managed",
      "type": "aws_eks_node_group",
      "name": "main",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "cluster_name": "secure-eks-cluster",
          "node_group_name": "main",
          "node_role_arn": "arn:aws:iam::123456789012:role/secure-eks-cluster-nodes-role",
          "subnet_ids": [
            "subnet-12345678",
            "subnet-87654321"
          ],
          "instance_types": [
            "t3.medium"
          ],
          "capacity_type": "ON_DEMAND",
          "scaling_config": [
            {
              "desired_size": 3,
              "max_size": 10,
              "min_size": 2
            }
          ],
          "update_config": [
            {
              "max_unavailable_percentage": 25
            }
          ],
          "tags": {
            "Environment": "production",
            "Project": "secure-kubernetes"
          }
        },
        "after_unknown": {}
      }
    },
    {
      "address": "aws_kms_key.cluster",
      "mode": "managed",
      "type": "aws_kms_key",
      "name": "cluster",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "EKS cluster encryption key for secure-eks-cluster",
          "deletion_window_in_days": 7,
          "enable_key_rotation": true,
          "tags": {
            "Name": "secure-eks-cluster-encryption-key"
          }
        },
        "after_unknown": {}
      }
    },
    {
      "address": "aws_cloudwatch_log_group.cluster",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "cluster",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "name": "/aws/eks/secure-eks-cluster/cluster",
          "retention_in_days": 30,
          "kms_key_id": "arn:aws:kms:us-west-2:123456789012:key/12345678-1234-1234-1234-123456789012",
          "tags": {
            "Name": "secure-eks-cluster-cluster-logs"
          }
        },
        "after_unknown": {}
      }
    },
    {
      "address": "aws_security_group.cluster",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "cluster",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "name_prefix": "secure-eks-cluster-cluster-",
          "vpc_id": "vpc-12345678",
          "description": "Security group for EKS cluster control plane",
          "egress": [
            {
              "from_port": 0,
              "to_port": 0,
              "protocol": "-1",
              "cidr_blocks": [
                "0.0.0.0/0"
              ]
            }
          ],
          "tags": {
            "Name": "secure-eks-cluster-cluster-sg"
          }
        },
        "after_unknown": {}
      }
    }
  ],
  "configuration": {
    "provider_config": {
      "aws": {
        "name": "aws",
        "expressions": {
          "region": {
            "constant_value": "us-west-2"
          }
        }
      }
    },
    "root_module": {
      "resources": [
        {
          "address": "aws_eks_cluster.secure",
          "mode": "managed",
          "type": "aws_eks_cluster",
          "name": "secure",
          "provider_config_key": "aws",
          "expressions": {
            "name": {
              "constant_value": "secure-eks-cluster"
            },
            "version": {
              "constant_value": "1.28"
            },
            "role_arn": {
              "references": [
                "aws_iam_role.cluster.arn"
              ]
            },
            "vpc_config": {
              "constant_value": [
                {
                  "subnet_ids": [
                    "subnet-12345678",
                    "subnet-87654321"
                  ],
                  "endpoint_private_access": true,
                  "endpoint_public_access": false,
                  "public_access_cidrs": [],
                  "security_group_ids": [
                    "sg-12345678"
                  ]
                }
              ]
            },
            "encryption_config": {
              "constant_value": [
                {
                  "provider": [
                    {
                      "key_arn": "arn:aws:kms:us-west-2:123456789012:key/12345678-1234-1234-1234-123456789012"
                    }
                  ],
                  "resources": [
                    "secrets"
                  ]
                }
              ]
            },
            "enabled_cluster_log_types": {
              "constant_value": [
                "api",
                "audit",
                "authenticator",
                "controllerManager",
                "scheduler"
              ]
            },
            "tags": {
              "constant_value": {
                "Environment": "production",
                "Project": "secure-kubernetes"
              }
            }
          }
        }
      ]
    }
  }
}
